/*!
 * neep v0.1.0-alpha.0
 * (c) 2019-2020 Fierflame
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@neep/core")):"function"==typeof define&&define.amd?define(["@neep/core"],t):(e=e||self).NeepWeb=t(e.Neep)}(this,(function(e){"use strict";function t(e){const t=new Set;for(const n of function*e(t){if(Array.isArray(t))for(const n of t)yield*e(n);else yield t}(e))if(n)if("string"==typeof n)for(let e of n.split(" ").filter(Boolean))t.add(e);else if("object"==typeof n)for(const e in n){const o=n[e];for(let n of e.split(" ").filter(Boolean))t[o?"add":"delete"](n)}if(t.size)return t}function n(e){if("string"==typeof e)return e;if(!e)return;if("object"!=typeof e)return;const t=Object.create(null);for(let n in e){let o=e[n];const r="--"===n.substr(0,2)?n:n.replace(/[A-Z]/g,"-$1").replace(/-+/g,"-").toLowerCase();if("number"==typeof o)t[r]=[0===o?"0":`${o}px`,null];else if(o&&"string"==typeof o){const e=o.replace(/\!important\s*$/,"");t[r]=[e,e===o?null:"important"]}}return t}function o(e,t=!1){return null==e||t&&"function"==typeof e?null:"boolean"==typeof e?e?"":null:"object"!=typeof e?String(e):e instanceof Date?e.toISOString():e instanceof RegExp?e.toString():JSON.stringify(e)}function r(e){const t=Object.create(null);for(const n in e){const r=n.replace(/([A-Z])/g,"-$1").replace(/(\-)\-+/g,"$1").toLowerCase();switch(r){case"is":case"id":case"style":case"class":continue}const s=o(e[n],"on"===r.substr(0,2));null!==s&&(t[r]=s)}return t}function s(e){const t=Object.create(null);for(const n in e){const o=e[n];"function"==typeof o&&("on"===n.substr(0,2)&&(t[n.substr(2).toLowerCase()]=new Set([o])))}return t}const c=new WeakMap;function i(e,o){const i=c.get(e)||{attrs:{},event:{}},{id:f,classes:a,style:l,attrs:u,event:p}=function({id:e,class:o,style:c,...i}){return{id:(f=e,"string"==typeof f?f:"number"==typeof f?String(f):void 0),classes:t(o),style:n(c),attrs:r(i),event:s(i)};var f}(o);return c.set(e,{id:f,classes:a,style:l,attrs:u,event:p}),f!==i.id&&("string"==typeof f?e.id=o.id:e.removeAttribute("id")),function(e,t,n){if(t&&n){const o=e.getAttribute("class")||"",r=new Set(o.split(" ").filter(Boolean));n.forEach(e=>r.delete(e)),t.forEach(e=>r.add(e)),e.setAttribute("class",[...r].join(" "))}else t?e.setAttribute("class",[...t].join(" ")):n&&e.removeAttribute("class")}(e,a,i.classes),function(e,t,n){if(t)if("string"!=typeof t)if(n&&"string"!=typeof n){for(const o of Object.keys(t)){const r=t[o];n[o]&&n[o][0]===r[0]&&n[o][1]===r[1]||e.setProperty(o,...r)}for(const o of Object.keys(n))t[o]||e.removeProperty(o)}else{"string"==typeof n&&(e.cssText="");for(const n of Object.keys(t))e.setProperty(n,...t[n])}else t!==typeof n&&(e.cssText=t);else{if(!n)return;if("string"==typeof n)return void(e.cssText="");for(const t of Object.keys(n))e.removeProperty(t)}}(e.style,l,i.style),function(e,t,n){for(const o of Object.keys(t)){const r=t[o];o in n&&n[o]===r||e.setAttribute(o,r)}for(const o of Object.keys(n))o in t||e.removeAttribute(o)}(e,u,i.attrs),function(e,t,n){for(const o of Object.keys(t)){const r=t[o];if(o in n){const t=n[o];for(const n of r)t.has(n)||e.addEventListener(o,n);for(const n of t)r.has(n)||e.removeEventListener(o,n)}else for(const t of r)e.addEventListener(o,t)}for(const o of Object.keys(n))if(!(o in t))for(const t of n[o])e.removeEventListener(o,t)}(e,p,i.event),e}const f={type:"html",isNode:e=>e instanceof Node,mount({target:e,class:t,style:n,tag:o},r){"string"==typeof o&&/^[a-z][a-z0-9]*(?:\-[a-z0-9]+)?(?:\:[a-z0-9]+(?:\-[a-z0-9]+)?)?$/i.test(o)||(o="div");const s=f.create(o,{class:t,style:n});return"string"==typeof e&&(e=document.querySelector(e)),e instanceof Element?(e.appendChild(s),r?[s,r.placeholder]:[s,s]):r!==f?(document.body.appendChild(s),[s,s]):[s,s]},unmount(e,t,n){e===t&&n||e.remove()},drawContainer(e,t,{target:n,class:o,style:r,tag:s},c){f.update(e,{class:o,style:r}),"string"==typeof n&&(n=document.querySelector(n)),c===f||n instanceof Element||(n=document.body);const i=c===f&&e===t?void 0:f.parent(t);if(i===n)return[e,t];if(c!==f)return n.appendChild(e),[e,t];if(!i){const n=c.placeholder(),o=c.parent(t);return o&&(f.insert(o,n,t),f.remove(t)),[e,n]}if(!n){const n=c.parent(t);return n&&(f.insert(n,e,t),f.remove(t)),[e,e]}return n.appendChild(t),[e,t]},draw(){},create:(e,t)=>i(document.createElement(e),t),text:e=>document.createTextNode(e),placeholder:()=>document.createComment(""),component(){const e=document.createElement("neep-component");return e.attachShadow({mode:"open"}),[e,e.attachShadow({mode:"open"})]},parent:e=>e.parentNode,next:e=>e.nextSibling,update(e,t){i(e,t)},insert(e,t,n=null){e.insertBefore(t,n)},remove(e){const t=f.parent(e);t&&t.removeChild(e)}};return e.install({render:f}),f}));
//# sourceMappingURL=neep.web.render.min.js.map
