{"version":3,"file":"neep.web.render.min.js","sources":["../../src/web/update.ts","../../src/core/render/recursive.ts","../../src/web/index.ts","../../src/web/browser.ts"],"sourcesContent":["import {\n\trecursive2iterable, RecursiveItem,\n} from '../core/render/recursive';\n\nfunction getId(v: any): string | undefined {\n\tif (typeof v === 'string') { return v; }\n\tif (typeof v === 'number') { return String(v); }\n\treturn undefined;\n}\nfunction getClass(\n\tlist: RecursiveItem<(string | {[k: string]: any})>\n): Set<string> | undefined {\n\tconst set = new Set<string>();\n\tfor (const v of recursive2iterable(list)) {\n\t\tif (!v) { continue; }\n\t\tif (typeof v === 'string') {\n\t\t\tfor (let k of v.split(' ').filter(Boolean)) {\n\t\t\t\tset.add(k);\n\t\t\t}\n\t\t} else if (typeof v === 'object') {\n\t\t\tfor (const k in v) {\n\t\t\t\tconst add = v[k];\n\t\t\t\tfor (let it of k.split(' ').filter(Boolean)) {\n\t\t\t\t\tset[add ? 'add' : 'delete'](it);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif (!set.size) { return undefined; }\n\treturn set;\n}\n\nfunction getStyle(\n\tstyle: any\n): string | Record<string, [string, 'important' | null]> | undefined {\n\tif (typeof style === 'string') { return style; }\n\tif (!style) { return undefined; }\n\tif (typeof style !== 'object') { return undefined; }\n\tconst css: Record<string, [string, 'important' | null]> =\n\t\tObject.create(null);\n\tfor (let k in style) {\n\t\tlet value = style[k];\n\t\tconst key = k.substr(0, 2) === '--' ? k\n\t\t\t: k.replace(/[A-Z]/g, '-$1')\n\t\t\t\t.replace(/-+/g, '-')\n\t\t\t\t.toLowerCase();\n\t\tif (typeof value === 'number') {\n\t\t\tcss[key] = [value === 0 ? '0' : `${value}px`, null];\n\t\t} else if (value && typeof value === 'string') {\n\t\t\tconst v = value.replace(/\\!important\\s*$/, '');\n\t\t\tcss[key] = [v, v === value ? null : 'important'];\n\t\t}\n\t}\n\treturn css;\n}\n\nfunction stringify(data: any, isOn = false): string | null {\n\tif (data === undefined || data === null) { return null; }\n\tif (isOn && typeof data === 'function') { return null; }\n\tif (typeof data === 'boolean') { return data ? '' : null; }\n\tif (typeof data !== 'object') { return String(data); }\n\tif (data instanceof Date) {\n\t\treturn data.toISOString();\n\t}\n\tif (data instanceof RegExp) {\n\t\treturn data.toString();\n\t}\n\treturn JSON.stringify(data);\n}\nfunction getAttrs(props: {[k: string]: any}) {\n\tconst attrs: Record<string, string> = Object.create(null);\n\tfor (const k in props) {\n\t\tconst name = k\n\t\t\t.replace(/([A-Z])/g, '-$1')\n\t\t\t.replace(/(\\-)\\-+/g, '$1')\n\t\t\t.toLowerCase();\n\t\tswitch(name) {\n\t\t\tcase 'is': continue;\n\t\t\tcase 'id': continue;\n\t\t\tcase 'style': continue;\n\t\t\tcase 'class': continue;\n\t\t}\n\t\tconst value = stringify(props[k], name.substr(0, 2) === 'on');\n\t\tif (value !== null) { attrs[name] = value; }\n\t}\n\treturn attrs;\n}\nfunction getEvent(props: {[k: string]: any}) {\n\tconst evt: Record<string, Set<EventListener>> = Object.create(null);\n\tfor (const k in props) {\n\t\tconst f = props[k];\n\t\tif (typeof f !== 'function') { continue; }\n\t\tif (k.substr(0, 2) !== 'on') { continue; }\n\t\tevt[k.substr(2).toLowerCase()] = new Set([f]);\n\t}\n\treturn evt;\n}\ninterface Props {\n\tid?: string;\n\tclasses?: Set<string>;\n\tstyle?: string | Record<string, [string, 'important' | null]>;\n\tattrs: Record<string, string>;\n\tevent: Record<string, Set<EventListener>>;\n}\nfunction getProps({\n\tid,\n\tclass: className,\n\tstyle,\n\t...attrs\n}: {[k: string]: any}): Props {\n\treturn {\n\t\tid: getId(id),\n\t\tclasses: getClass(className),\n\t\tstyle: getStyle(style),\n\t\tattrs: getAttrs(attrs),\n\t\tevent: getEvent(attrs),\n\t};\n}\n\nfunction updateClass(\n\tel: HTMLElement | SVGElement,\n\tclasses?: Set<string>,\n\toClasses?: Set<string>,\n) {\n\tif (classes && oClasses) {\n\t\tconst list = el.getAttribute('class') || '';\n\t\tconst classList = new Set(list.split(' ').filter(Boolean));\n\t\toClasses.forEach(c => classList.delete(c));\n\t\tclasses.forEach(c => classList.add(c));\n\t\tel.setAttribute('class', [...classList].join(' '));\n\t} else if (classes) {\n\t\tel.setAttribute('class', [...classes].join(' '));\n\t} else if (oClasses) {\n\t\tel.removeAttribute('class');\n\t}\n}\nfunction updateStyle(\n\tcss: CSSStyleDeclaration,\n\tstyle?: string | Record<string, [string, 'important' | null]>,\n\toStyle?: string | Record<string, [string, 'important' | null]>,\n) {\n\tif (!style) {\n\t\tif (!oStyle) { return; }\n\t\tif (typeof oStyle === 'string') {\n\t\t\tcss.cssText = '';\n\t\t\treturn;\n\t\t}\n\t\tfor (const k of Object.keys(oStyle)) {\n\t\t\tcss.removeProperty(k);\n\t\t}\n\t\treturn;\n\t}\n\n\tif (typeof style === 'string') {\n\t\tif (style !== typeof oStyle) {\n\t\t\tcss.cssText = style;\n\t\t}\n\t\treturn;\n\t}\n\tif (!oStyle || typeof oStyle === 'string') {\n\t\tif (typeof oStyle === 'string') {\n\t\t\tcss.cssText = '';\n\t\t}\n\t\tfor (const k of Object.keys(style)) {\n\t\t\tcss.setProperty(k, ...style[k]);\n\t\t}\n\t\treturn;\n\t}\n\n\tfor (const k of Object.keys(style)) {\n\t\tconst v = style[k];\n\t\tif (\n\t\t\t!oStyle[k]\n\t\t\t|| oStyle[k][0] !== v[0]\n\t\t\t|| oStyle[k][1] !== v[1]\n\t\t) {\n\t\t\tcss.setProperty(k, ...v);\n\t\t}\n\t}\n\tfor (const k of Object.keys(oStyle)) {\n\t\tif (!style[k]) {\n\t\t\tcss.removeProperty(k);\n\t\t}\n\t}\n}\nfunction updateAttrs(\n\tel: HTMLElement | SVGElement,\n\tattrs: Record<string, string>,\n\toAttrs: Record<string, string>,\n) {\n\tfor (const k of Object.keys(attrs)) {\n\t\tconst v = attrs[k];\n\t\tif (!(k in oAttrs) || oAttrs[k] !== v) {\n\t\t\tel.setAttribute(k, v);\n\t\t}\n\t}\n\tfor (const k of Object.keys(oAttrs)) {\n\t\tif (!(k in attrs)) {\n\t\t\tel.removeAttribute(k);\n\t\t}\n\t}\n}\n\nfunction updateEvent(\n\tel: HTMLElement | SVGElement,\n\tevt: Record<string, Set<EventListener>>,\n\toEvt: Record<string, Set<EventListener>>,\n) {\n\n\tfor (const k of Object.keys(evt)) {\n\t\tconst set = evt[k];\n\t\tif (k in oEvt) {\n\t\t\tconst oSet = oEvt[k];\n\t\t\tfor (const f of set) {\n\t\t\t\tif (!oSet.has(f)) { el.addEventListener(k, f); }\n\t\t\t}\n\t\t\tfor (const f of oSet) {\n\t\t\t\tif (!set.has(f)) { el.removeEventListener(k, f); }\n\t\t\t}\n\t\t} else {\n\t\t\tfor (const f of set) {\n\t\t\t\tel.addEventListener(k, f);\n\t\t\t}\n\t\t}\n\t}\n\tfor (const k of Object.keys(oEvt)) {\n\t\tif (k in evt) { continue; }\n\t\tfor (const f of oEvt[k]) {\n\t\t\tel.removeEventListener(k, f);\n\t\t}\n\t}\n}\n\nconst PropsMap = new WeakMap<Element, Props>();\nexport default function update(\n\tel: HTMLElement | SVGElement,\n\tprops: {[k: string]: any},\n) {\n\tconst old = PropsMap.get(el) || { attrs: {}, event: {} };\n\tconst { id,  classes, style, attrs, event } = getProps(props);\n\tPropsMap.set(el, { id, classes, style, attrs, event });\n\tif (id !== old.id) {\n\t\tif (typeof id === 'string') {\n\t\t\tel.id = props.id;\n\t\t} else {\n\t\t\tel.removeAttribute('id');\n\t\t}\n\t}\n\tupdateClass(el, classes, old.classes);\n\tupdateStyle(el.style, style, old.style);\n\tupdateAttrs(el, attrs, old.attrs);\n\tupdateEvent(el, event, old.event);\n\treturn el;\n}\n","export interface RecursiveArray<T> extends Array<RecursiveItem<T>>{};\nexport type RecursiveItem<T> = T | RecursiveArray<T>;\n\nexport function *recursive2iterable<T>(\n\tlist: RecursiveItem<T>,\n): Iterable<T> {\n\tif (!Array.isArray(list)) {\n\t\tyield list;\n\t\treturn;\n\t}\n\tfor (const it of list) {\n\t\tyield* recursive2iterable(it);\n\t}\n}\n","\nimport update from './update';\nimport {\n\tIRender,\n\tNativeNode,\n\tNativeText,\n\tNativePlaceholder,\n\tNativeComponent,\n\tNativeShadow,\n\tNativeContainer,\n\tNativeElement,\n} from '@neep/core';\n\nconst render: IRender = {\n\ttype: 'html',\n\tisNode(v): v is NativeNode {\n\t\treturn v instanceof Node;\n\t},\n\tmount({target, class: className, style, tag}, parent) {\n\t\tif (!(\n\t\t\ttypeof tag === 'string' &&\n\t\t\t/^[a-z][a-z0-9]*(?:\\-[a-z0-9]+)?(?:\\:[a-z0-9]+(?:\\-[a-z0-9]+)?)?$/i.test(tag)\n\t\t)) {\n\t\t\ttag = 'div';\n\t\t}\n\t\tconst container = render.create(tag, { class: className, style });\n\t\tif (typeof target === 'string') {\n\t\t\ttarget = document.querySelector(target);\n\t\t}\n\t\tif (target instanceof Element) {\n\t\t\ttarget.appendChild(container as any);\n\t\t\tif (parent) {\n\t\t\t\treturn [container, parent.placeholder] as any;\n\t\t\t}\n\t\t\treturn [container, container];\n\t\t}\n\t\tif (parent !== render) {\n\t\t\tdocument.body.appendChild(container as any);\n\t\t\treturn [container, container] as any;\n\t\t}\n\t\treturn [container, container] as any;\n\t},\n\tunmount(container, node, removed) {\n\t\tif (container === node && removed) { return; }\n\t\t(container as any as Element).remove();\n\t},\n\tdrawContainer(container, node, {target, class: className, style, tag}, parent) {\n\t\trender.update(container as NativeElement, { class: className, style })\n\t\tif (typeof target === 'string') {\n\t\t\ttarget = document.querySelector(target);\n\t\t}\n\t\tif (parent !== render && !(target instanceof Element)) {\n\t\t\ttarget = document.body;\n\t\t}\n\t\tconst oldTarget = parent === render && container === node ? undefined : render.parent(node);\n\t\tif (oldTarget === target) {\n\t\t\treturn [container, node];\n\t\t}\n\t\tif (parent !== render) {\n\t\t\ttarget.appendChild(container);\n\t\t\treturn [container, node];\n\t\t}\n\t\tif (!oldTarget) {\n\t\t\tconst newNode = parent.placeholder();\n\t\t\tconst pNode = parent.parent(node);\n\t\t\tif (pNode) {\n\t\t\t\trender.insert(pNode, newNode as any, node);\n\t\t\t\trender.remove(node);\n\t\t\t}\n\t\t\treturn [container, newNode];\n\t\t}\n\t\tif (!target) {\n\t\t\tconst pNode = parent.parent(node);\n\t\t\tif (pNode) {\n\t\t\t\trender.insert(pNode, container, node);\n\t\t\t\trender.remove(node);\n\t\t\t}\n\t\t\treturn [container, container];\n\n\t\t}\n\t\ttarget.appendChild(node);\n\t\treturn [container, node];\n\t},\n\tdraw() {},\n\n\tcreate(tag, props) {\n\t\t// TODO: NS\n\t\t// 你好啊\n\t\treturn update(document.createElement(tag), props) as any;\n\t},\n\ttext(text: string): NativeText {\n\t\treturn document.createTextNode(text) as any;\n\t},\n\tplaceholder(): NativePlaceholder {\n\t\treturn document.createComment('') as any;\n\t},\n\tcomponent(): [NativeComponent, NativeShadow] {\n\t\tconst node = document.createElement('neep-component');\n\t\tnode.attachShadow({ mode: 'open' });\n\t\treturn [node, node.attachShadow({ mode: 'open' })] as any;\n\t},\n\n\tparent(node: NativeNode): NativeContainer | null {\n\t\treturn (node as any).parentNode as NativeContainer | null;\n\t},\n\tnext(node: NativeNode): NativeNode | null {\n\t\treturn (node as any).nextSibling as NativeContainer | null;\n\t},\n\tupdate(node, props): void {\n\t\tupdate(node as any, props);\n\t},\n\tinsert(\n\t\tparent: NativeContainer,\n\t\tnode: NativeNode,\n\t\tnext: NativeNode | null = null,\n\t): void {\n\t\t(parent as any).insertBefore(node, next);\n\t},\n\tremove(node: NativeNode): void {\n\t\tconst p = render.parent(node);\n\t\tif (!p) { return; }\n\t\t(p as any).removeChild(node);\n\t},\n};\n\nexport default render;\n","import { install } from '@neep/core';\nimport render from '.';\n\ninstall({ render });\nexport { default } from '.';\n"],"names":["getClass","list","set","Set","v","recursive2iterable","Array","isArray","it","k","split","filter","Boolean","add","size","getStyle","style","css","Object","create","value","key","substr","replace","toLowerCase","stringify","data","isOn","String","Date","toISOString","RegExp","toString","JSON","getAttrs","props","attrs","name","getEvent","evt","f","PropsMap","WeakMap","update","el","old","get","event","id","classes","class","className","getProps","removeAttribute","oClasses","getAttribute","classList","forEach","c","delete","setAttribute","join","updateClass","oStyle","keys","setProperty","removeProperty","cssText","updateStyle","oAttrs","updateAttrs","oEvt","oSet","has","addEventListener","removeEventListener","updateEvent","render","type","isNode","Node","mount","target","tag","parent","test","container","document","querySelector","Element","appendChild","placeholder","body","unmount","node","removed","remove","drawContainer","oldTarget","undefined","newNode","pNode","insert","draw","createElement","text","createTextNode","createComment","component","attachShadow","mode","parentNode","next","nextSibling","insertBefore","p","removeChild"],"mappings":"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"}