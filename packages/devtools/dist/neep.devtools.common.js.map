{"version":3,"file":"neep.devtools.common.js","sources":["../src/tree.ts","../src/app/Text.tsx","../src/app/index.tsx","../src/devtools/index.ts","../src/install.ts"],"sourcesContent":["import {\n\tTemplate, ScopeSlot, SlotRender, Value,\n\tnameSymbol, typeSymbol, Deliver,\n} from '@neep/core';\nimport { MountedNode } from '../../core/src/render/draw';\nimport Container from '../../core/src/render/Container';\nimport Entity from '../../core/src/render/Entity';\nimport { Neep } from './install';\nexport enum Type {\n\ttag = 'tag',\n\tplaceholder = 'placeholder',\n\tstandard = 'standard',\n\tsimple = 'simple',\n\tnative = 'native',\n\tcontainer = 'container',\n\tspecial = 'special',\n}\nexport interface VTreeNode {\n\tid: number;\n\ttype: Type;\n\ttag: string;\n\t/** 子节点 */\n\tchildren: VTreeNode[];\n\tprops?: { [key: string]: any; };\n\t/** 列表对比 key */\n\tkey?: any;\n\t/** 标注 */\n\tlabel?: [string, string];\n\tparent: number;\n\tvalue?: string;\n\tisNative?: boolean;\n}\n\nexport function *getTree(\n\ttree: MountedNode | (MountedNode | MountedNode[])[],\n\tparent: number = 0,\n): Iterable<VTreeNode> {\n\tif (Array.isArray(tree)) {\n\t\tfor (const it of tree) {\n\t\t\tyield* getTree(it);\n\t\t}\n\t\treturn;\n\t}\n\tconst {\n\t\tid,\n\t\ttag,\n\t\tprops,\n\t\tchildren,\n\t\tkey,\n\t\tcomponent,\n\t\tlabel = component?.exposed?.$label,\n\t} = tree;\n\tif (!tag) {\n\t\treturn yield {\n\t\t\tid, parent,\n\t\t\ttype: Type.placeholder,\n\t\t\ttag: 'placeholder',\n\t\t\tchildren: [],\n\t\t};\n\t}\n\tif (typeof tag !== 'string') {\n\t\tconst name = tag[nameSymbol] || tag.name;\n\t\tif (!component) {\n\t\t\treturn yield {\n\t\t\t\tid, parent,\n\t\t\t\ttype: Type.simple,\n\t\t\t\ttag: name,\n\t\t\t\tchildren: [...getTree(children)],\n\t\t\t\tprops,\n\t\t\t\tkey,\n\t\t\t\tlabel,\n\t\t\t};\n\t\t}\n\t\tconst isNative = tag[typeSymbol] === 'native';\n\t\treturn yield {\n\t\t\tid, parent,\n\t\t\ttype: isNative ? Type.native : Type.standard,\n\t\t\ttag: name,\n\t\t\tchildren: [...getTree(\n\t\t\t\t'content' in component ? (component as Container).content\n\t\t\t\t\t: isNative ? (component as Entity).nativeTree : component.tree\n\t\t\t)],\n\t\t\tprops,\n\t\t\tkey,\n\t\t\tlabel,\n\t\t};\n\t}\n\tif (\n\t\ttag === Template || tag === Deliver\n\t\t|| tag === ScopeSlot || tag === SlotRender\n\t) {\n\t\treturn yield {\n\t\t\tid, parent,\n\t\t\ttype: Type.special,\n\t\t\ttag,\n\t\t\tchildren: [...getTree(children)],\n\t\t\tprops,\n\t\t\tkey,\n\t\t\tlabel,\n\t\t};\n\t}\n\tif (tag === Value) {\n\t\tconst treeValue = tree.value;\n\t\treturn yield {\n\t\t\tid, parent,\n\t\t\ttype: Type.special,\n\t\t\ttag,\n\t\t\tchildren: [],\n\t\t\tisNative: treeValue === tree.node,\n\t\t\tvalue: treeValue,\n\t\t\tprops,\n\t\t\tkey,\n\t\t\tlabel,\n\t\t};\n\t}\n\tyield {\n\t\tid, parent,\n\t\ttype: Type.tag,\n\t\ttag,\n\t\tchildren: [...getTree(children)],\n\t\tprops,\n\t\tkey,\n\t\tlabel,\n\t};\n\n}\n","import { createElement, NeepNode } from '@neep/core';\nimport { Neep } from '../install';\nimport { Template } from 'packages/core/core';\n\nexport function getValue(\n\tvalue: any,\n): NeepNode {\n\tconst type = typeof value;\n\tif (type === 'function') {\n\t\treturn <span style=\"font-weight: bold;\">[Function]</span>;\n\t}\n\tif (type === 'string') {\n\t\treturn <span>{value}</span>;\n\t}\n\tif (\n\t\ttype === 'bigint'\n\t\t|| type === 'boolean'\n\t\t|| type === 'number'\n\t\t|| type === 'symbol'\n\t\t|| type === 'undefined'\n\t\t|| value === null\n\t) {\n\t\treturn <span style=\"font-style: italic;\">{String(value)}</span>;\n\t} else if (value instanceof RegExp) {\n\t\treturn <span style=\"font-weight: bold;\">{String(value)}</span>;\n\t} else if (value instanceof Date) {\n\t\treturn <span style=\"font-weight: bold;\">{value.toISOString()}</span>;\n\t} else if (type === 'object') {\n\t\treturn <span style=\"font-style: italic;\">{String(value)}</span>;\n\t}\n\treturn null;\n}\n\nexport function TextNode(\n\t{ isNative, value }: { isNative?: boolean; value?: any },\n): NeepNode {\n\tif (isNative) {\n\t\treturn <span style=\"font-weight: bold;\">[Native]</span>;\n\t}\n\tconst isValue = Neep.isValue(value);\n\tconst data = isValue ? value() : value;\n\tif (!Neep.isValue(value)) {\n\t\treturn getValue(data);\n\t}\n\treturn <template>\n\t\t<span style=\"font-weight: bold;\">[Value:&nbsp;</span>\n\t\t{getValue(data)}\n\t\t<span style=\"font-weight: bold;\">&nbsp;]</span>\n\t</template>;\n}\n","import {\n\tcreate,\n\tcreateElement,\n\tNeepNode,\n\tTemplate,\n\tScopeSlot,\n\tSlotRender,\n\tValue,\n\tDeliver,\n} from '@neep/core';\nimport { VTreeNode, Type } from '../tree';\nimport { TextNode } from './Text';\n\ninterface Options {\n\tvalue?: boolean;\n\ttag?: boolean;\n\tplaceholder?: boolean;\n\tsimple?: boolean;\n\tcontainer?: boolean;\n\ttemplate?: boolean;\n\tscopeSlot?: boolean;\n\tslotRender?: boolean;\n\tdeliver?: boolean;\n}\nfunction getOptions({\n\tvalue = false,\n\ttag = false,\n\tplaceholder = false,\n\tsimple = false,\n\tcontainer = false,\n\ttemplate = false,\n\tscopeSlot = false,\n\tslotRender = false,\n\tdeliver = false,\n}: Options): Options {\n\treturn {\n\t\tvalue,\n\t\ttag,\n\t\tplaceholder,\n\t\tsimple,\n\t\tcontainer,\n\t\ttemplate,\n\t\tscopeSlot,\n\t\tslotRender,\n\t\tdeliver,\n\t};\n}\nfunction createTag(\n\tname: any,\n\tkeys: {[key: number]: boolean},\n\tid: number,\n\tkey: any,\n\tlabels: ([string, string] | undefined)[],\n\t...children: any[]\n): NeepNode {\n\tconst opened = keys[id];\n\tconst hasChildren = Boolean(children.length);\n\treturn <div key={id} style=\"\n\t\tposition: relative;\n\t\tmin-height: 20px;\n\t\tfont-size: 14px;\n\t\tline-height: 20px;\n\t\">\n\t\t{children.length && <div\n\t\t\tstyle=\"\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: -20px;\n\t\t\t\ttop: 0;\n\t\t\t\twidth: 20px;\n\t\t\t\theight: 20px;\n\t\t\t\ttext-align: center;\n\t\t\t\tcursor: pointer;\n\t\t\t\tbackground: #DDD;;\n\t\t\t\"\n\t\t\tonclick={() => keys[id] = !opened}\n\t\t>{opened ? '-' : '+'}</div> || undefined}\n\t\t<div>\n\t\t\t{'<'}{name}\n\t\t\t{ typeof key === 'string' ? ` key=\"${key}\"`\n\t\t\t: typeof key === 'number' ? ` key=${key}`\n\t\t\t: typeof key === 'boolean' ? ` key=${key}`\n\t\t\t: typeof key === 'bigint' ? ` key=${key}`\n\t\t\t: typeof key === 'symbol' ? ` key=${String(key)}`\n\t\t\t: key === null ? ` key=${key}`\n\t\t\t: key !== undefined && ` key={${String(key)}}`\n\t\t}\n\t\t\t{hasChildren ? '>' : ' />'}\n\t\t\t{hasChildren && !opened && <span>\n\t\t\t\t<span\n\t\t\t\t\tonclick={() => keys[id] = true}\n\t\t\t\t\tstyle=\"cursor: pointer;\"\n\t\t\t\t>...</span>\n\t\t\t\t{'</'}{name}{'>'}\n\t\t\t</span>}\n\t\t\t{hasChildren && (labels as [string, string][])\n\t\t\t\t.filter(Boolean).map(([v, color]) => <span\n\t\t\t\t\tstyle={`color: ${color || '#000'}`}\n\t\t\t\t>\n\t\t\t\t\t{v}\n\t\t\t\t</span>)}\n\t\t</div>\n\t\t{hasChildren && opened && <div style=\"padding-left: 20px\">\n\t\t\t{children}\n\t\t</div>}\n\t\t{opened && hasChildren && <div>{'</'}{name}{'>'}</div>}\n\t</div>;\n}\nfunction *getList(\n\tlist: VTreeNode | VTreeNode[],\n\tkeys: {[key: number]: boolean},\n\toptions: Options,\n\tlabels: ([string, string] | undefined)[] = [],\n): Iterable<NeepNode> {\n\tif (Array.isArray(list)) {\n\t\tfor (const it of list) {\n\t\t\tyield* getList(it, keys, options, labels);\n\t\t}\n\t\treturn;\n\t}\n\tconst {\n\t\tid,\n\t\ttype,\n\t\ttag,\n\t\tchildren,\n\t\tprops,\n\t\tkey,\n\t\tlabel,\n\t\tvalue,\n\t\tisNative,\n\t} = list;\n\tif (type === Type.standard || type === Type.native) {\n\t\treturn yield createTag(\n\t\t\t<span style=\"font-weight: bold;\">{tag}</span>,\n\t\t\tkeys, id, key, [label, ...labels],\n\t\t\t...getList(children, keys, options)\n\t\t);\n\t}\n\tif (type === Type.tag) {\n\t\tif (!options.tag) {\n\t\t\treturn yield* getList(children, keys, options, [label, ...labels]);\n\t\t}\n\t\treturn yield createTag(\n\t\t\ttag,\n\t\t\tkeys, id, key, [label, ...labels],\n\t\t\t...getList(children, keys, options)\n\t\t);\n\t}\n\tif (type === Type.simple) {\n\t\tif (!options.simple) {\n\t\t\treturn yield* getList(children, keys, options, [label, ...labels]);\n\t\t}\n\t\treturn yield createTag(\n\t\t\t<span style=\"\n\t\t\t\tfont-style: italic;\n\t\t\t\tfont-weight: bold;\n\t\t\t\">{tag}</span>,\n\t\t\tkeys, id, key, [label, ...labels],\n\t\t\t...getList(children, keys, options)\n\t\t);\n\t}\n\tif (type === Type.placeholder) {\n\t\tif (!options.placeholder) { return; }\n\t\treturn yield createTag(\n\t\t\t<span style=\"font-style: italic;\">placeholder</span>,\n\t\t\tkeys, id, key, [label, ...labels],\n\t\t\t...getList(children, keys, options)\n\t\t);\n\t}\n\tif (type === Type.container) {\n\t\tif (!options.container) {\n\t\t\treturn yield* getList(children, keys, options, [label, ...labels]);\n\t\t}\n\t\treturn yield createTag(\n\t\t\t<span style=\"font-style: italic;\">container</span>,\n\t\t\tkeys, id, key, [label, ...labels],\n\t\t\t...getList(children, keys, options)\n\t\t);\n\t}\n\tif (tag === Deliver) {\n\t\tif (!options.deliver) {\n\t\t\treturn yield* getList(children, keys, options, [label, ...labels]);\n\t\t}\n\t\treturn yield createTag(\n\t\t\t<span style=\"font-style: italic;\">Deliver</span>,\n\t\t\tkeys, id, key, [label, ...labels],\n\t\t\t...getList(children, keys, options)\n\t\t);\n\t}\n\tif (tag === Template) {\n\t\tif (!options.template) {\n\t\t\treturn yield* getList(children, keys, options, [label, ...labels]);\n\t\t}\n\t\treturn yield createTag(\n\t\t\t<span style=\"font-style: italic;\">Template</span>,\n\t\t\tkeys, id, key, [label, ...labels],\n\t\t\t...getList(children, keys, options)\n\t\t);\n\t}\n\tif (tag === ScopeSlot) {\n\t\tif (!options.scopeSlot) {\n\t\t\treturn yield* getList(children, keys, options, [label, ...labels]);\n\t\t}\n\t\treturn yield createTag(\n\t\t\t<span style=\"font-style: italic;\">ScopeSlot</span>,\n\t\t\tkeys, id, key, [label, ...labels],\n\t\t\t...getList(children, keys, options)\n\t\t);\n\t}\n\tif (tag === SlotRender) {\n\t\tif (options.slotRender) {\n\n\t\t}\n\t\treturn;\n\t}\n\tif (tag === Value) {\n\t\tif (!options.tag) { return; }\n\t\tif (!options.value) { return; }\n\t\treturn yield <TextNode isNative={isNative} value={value} />;\n\t}\n}\nexport default create((props: any, {}, { encase }) => {\n\tconst keys = encase<{[key: number]: boolean}>({});\n\treturn () => <div style=\"padding-left: 20px;\">\n\t\t{[...getList(props.tree, keys, getOptions(props))]}\n\t</div>;\n});\n","import { Neep } from '../install';\nimport { getTree } from '../tree';\nimport App from '../app';\nimport { Devtools } from '../type';\nimport { RootExposed } from '@neep/core';\n\nlet creating = false;\nfunction create() {\n\tcreating = true;\n\ttry {\n\t\treturn Neep.render();\n\t} finally {\n\t\tcreating = false;\n\t}\n}\n\nconst devtools: Devtools = {\n\trenderHook(container) {\n\t\tif (creating) { return; }\n\t\tlet app: RootExposed | undefined;\n\t\tconst getData = () => {\n\t\t\tif (!app) { app = create(); }\n\t\t\tconst tree = [...getTree(container.content)];\n\t\t\tapp.$update(Neep.createElement(App, {\n\t\t\t\ttree,\n\t\t\t\tvalue: true,\n\t\t\t\ttag: true,\n\t\t\t\t// simple: true,\n\t\t\t\t// container: true,\n\t\t\t\t// template: true,\n\t\t\t\t// scopeSlot: true,\n\t\t\t\t// slotRender: true,\n\t\t\t\t// deliver: true,\n\t\t\t}));\n\t\t};\n\t\tNeep.setHook('drawnAll', getData, container.entity);\n\t\tNeep.setHook('mounted', () => {\n\t\t\tif (!app) { app = create(); }\n\t\t\tgetData();\n\t\t\tapp.$mount();\n\t\t}, container.entity);\n\t},\n};\n\nexport default devtools;\n","import devtools from './devtools';\n\nexport let Neep: typeof import('@neep/core');\nexport default function install(neep: typeof import('@neep/core')) {\n\tneep.install({ devtools });\n\tNeep = neep;\n}\n"],"names":["Type","getTree","tree","parent","Array","isArray","it","id","tag","props","children","key","component","label","exposed","$label","type","placeholder","name","nameSymbol","simple","isNative","typeSymbol","native","standard","content","nativeTree","Template","Deliver","ScopeSlot","SlotRender","special","Value","treeValue","value","node","getValue","createElement","String","RegExp","Date","toISOString","TextNode","isValue","Neep","data","getOptions","container","template","scopeSlot","slotRender","deliver","createTag","keys","labels","opened","hasChildren","Boolean","length","undefined","filter","map","v","color","getList","list","options","create","encase","creating","render","devtools","renderHook","app","getData","$update","App","setHook","entity","$mount","install","neep"],"mappings":"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"}