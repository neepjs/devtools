{"version":3,"file":"neep.devtools.js","sources":["../src/tree.ts","../src/app/index.tsx","../src/devtools/index.ts","../src/install.ts","../src/browser.ts"],"sourcesContent":["import {\n\tTemplate, ScopeSlot, SlotRender, Value,\n\tnameSymbol, typeSymbol, Deliver,\n} from '@neep/core';\nimport { MountedNode } from '../../core/src/render/draw';\nimport Container from '../../core/src/render/Container';\nimport Entity from '../../core/src/render/Entity';\nexport enum Type {\n\ttag = 'tag',\n\tplaceholder = 'placeholder',\n\tstandard = 'standard',\n\tsimple = 'simple',\n\tnative = 'native',\n\tcontainer = 'container',\n\tspecial = 'special',\n}\nexport interface VTreeNode {\n\tid: number;\n\ttype: Type;\n\ttag: string;\n\t/** 子节点 */\n\tchildren: VTreeNode[];\n\tprops?: { [key: string]: any; };\n\t/** 列表对比 key */\n\tkey?: any;\n\t/** 标注 */\n\tlabel?: [string, string];\n\tparent: number;\n\tvalue?: string;\n\tvalueType?: 'string' | 'value' | 'function'\n\t| 'native' | 'object' | 'date' | 'regex';\n}\n\nexport function *getTree(\n\ttree: MountedNode | (MountedNode | MountedNode[])[],\n\tparent: number = 0,\n): Iterable<VTreeNode> {\n\tif (Array.isArray(tree)) {\n\t\tfor (const it of tree) {\n\t\t\tyield* getTree(it);\n\t\t}\n\t\treturn;\n\t}\n\tconst {\n\t\tid,\n\t\ttag,\n\t\tprops,\n\t\tchildren,\n\t\tkey,\n\t\tcomponent,\n\t\tlabel = component?.exposed?.$label,\n\t} = tree;\n\tif (!tag) {\n\t\treturn yield {\n\t\t\tid, parent,\n\t\t\ttype: Type.placeholder,\n\t\t\ttag: 'placeholder',\n\t\t\tchildren: [],\n\t\t};\n\t}\n\tif (typeof tag !== 'string') {\n\t\tconst name = tag[nameSymbol] || tag.name;\n\t\tif (!component) {\n\t\t\treturn yield {\n\t\t\t\tid, parent,\n\t\t\t\ttype: Type.simple,\n\t\t\t\ttag: name,\n\t\t\t\tchildren: [...getTree(children)],\n\t\t\t\tprops,\n\t\t\t\tkey,\n\t\t\t\tlabel,\n\t\t\t};\n\t\t}\n\t\tconst isNative = tag[typeSymbol] === 'native';\n\t\treturn yield {\n\t\t\tid, parent,\n\t\t\ttype: isNative ? Type.native : Type.standard,\n\t\t\ttag: name,\n\t\t\tchildren: [...getTree(\n\t\t\t\t'content' in component ? (component as Container).content\n\t\t\t\t\t: isNative ? (component as Entity).nativeTree : component.tree\n\t\t\t)],\n\t\t\tprops,\n\t\t\tkey,\n\t\t\tlabel,\n\t\t};\n\t}\n\tif (\n\t\ttag === Template || tag === Deliver\n\t\t|| tag === ScopeSlot || tag === SlotRender\n\t) {\n\t\treturn yield {\n\t\t\tid, parent,\n\t\t\ttype: Type.special,\n\t\t\ttag,\n\t\t\tchildren: [...getTree(children)],\n\t\t\tprops,\n\t\t\tkey,\n\t\t\tlabel,\n\t\t};\n\t}\n\tif (tag === Value) {\n\t\tconst treeValue = tree.value;\n\t\tconst type = typeof treeValue;\n\t\tlet valueType: VTreeNode['valueType'] = 'string';\n\t\tlet value = '';\n\t\tif (type === 'string') {\n\t\t\tvalue = treeValue;\n\t\t} else if (treeValue === tree.node) {\n\t\t\tvalueType = 'native';\n\t\t} else if (type === 'function') {\n\t\t\tvalueType ='function';\n\t\t} else if (\n\t\t\ttype === 'bigint'\n\t\t\t|| type === 'boolean'\n\t\t\t|| type === 'number'\n\t\t\t|| type === 'symbol'\n\t\t\t|| type === 'undefined'\n\t\t\t|| treeValue === null\n\t\t) {\n\t\t\tvalueType ='value';\n\t\t\tvalue = String(treeValue);\n\t\t} else if (treeValue instanceof RegExp) {\n\t\t\tvalueType ='regex';\n\t\t\tvalue = String(treeValue);\n\t\t} else if (treeValue instanceof Date) {\n\t\t\tvalueType ='date';\n\t\t\tvalue = treeValue.toISOString();\n\t\t} else if (type === 'object') {\n\t\t\tvalueType = 'object';\n\t\t\tvalue = String(treeValue);\n\t\t}\n\t\treturn yield {\n\t\t\tid, parent,\n\t\t\ttype: Type.special,\n\t\t\ttag,\n\t\t\tchildren: [],\n\t\t\tvalueType,\n\t\t\tvalue,\n\t\t\tprops,\n\t\t\tkey,\n\t\t\tlabel,\n\t\t};\n\t}\n\tyield {\n\t\tid, parent,\n\t\ttype: Type.tag,\n\t\ttag,\n\t\tchildren: [...getTree(children)],\n\t\tprops,\n\t\tkey,\n\t\tlabel,\n\t};\n\n}\n","import {\n\tcreate,\n\tcreateElement,\n\tNeepNode,\n\tTemplate,\n\tScopeSlot,\n\tSlotRender,\n\tValue,\n\tDeliver,\n} from '@neep/core';\nimport { VTreeNode, Type } from '../tree';\n\ninterface Options {\n\tvalue?: boolean;\n\ttag?: boolean;\n\tplaceholder?: boolean;\n\tsimple?: boolean;\n\tcontainer?: boolean;\n\ttemplate?: boolean;\n\tscopeSlot?: boolean;\n\tslotRender?: boolean;\n\tdeliver?: boolean;\n}\nfunction getOptions({\n\tvalue = false,\n\ttag = false,\n\tplaceholder = false,\n\tsimple = false,\n\tcontainer = false,\n\ttemplate = false,\n\tscopeSlot = false,\n\tslotRender = false,\n\tdeliver = false,\n}: Options): Options {\n\treturn {\n\t\tvalue,\n\t\ttag,\n\t\tplaceholder,\n\t\tsimple,\n\t\tcontainer,\n\t\ttemplate,\n\t\tscopeSlot,\n\t\tslotRender,\n\t\tdeliver,\n\t};\n}\nfunction createText(\n\tvalueType: VTreeNode['valueType'] = 'string',\n\tvalue: string = '',\n): NeepNode {\n\tswitch(valueType) {\n\t\tcase 'string':\n\t\t\treturn <span>{value}</span>;\n\t\tcase 'native':\n\t\t\treturn <span style=\"font-weight: bold;\">[Native]</span>;\n\t\tcase 'function':\n\t\t\treturn <span style=\"font-weight: bold;\">[Function]</span>;\n\t\tcase 'date':\n\t\t\treturn <span style=\"font-weight: bold;\">{value}</span>;\n\t\tcase 'regex':\n\t\t\treturn <span style=\"font-weight: bold;\">{value}</span>;\n\t\tcase 'value':\n\t\t\treturn <span style=\"font-style: italic;\">{value}</span>;\n\t\tcase 'object':\n\t\t\treturn <span style=\"font-style: italic;\">{value}</span>;\n\t}\n}\nfunction createTag(\n\tname: any,\n\tkeys: {[key: number]: boolean},\n\tid: number,\n\tkey: any,\n\tlabels: ([string, string] | undefined)[],\n\t...children: any[]\n): NeepNode {\n\tconst opened = keys[id];\n\tconst hasChildren = Boolean(children.length);\n\treturn <div key={id} style=\"\n\t\tposition: relative;\n\t\tmin-height: 20px;\n\t\tfont-size: 14px;\n\t\tline-height: 20px;\n\t\">\n\t\t{children.length && <div\n\t\t\tstyle=\"\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: -20px;\n\t\t\t\ttop: 0;\n\t\t\t\twidth: 20px;\n\t\t\t\theight: 20px;\n\t\t\t\ttext-align: center;\n\t\t\t\tcursor: pointer;\n\t\t\t\tbackground: #DDD;;\n\t\t\t\"\n\t\t\tonClick={() => keys[id] = !opened}\n\t\t>{opened ? '-' : '+'}</div> || undefined}\n\t\t<div>\n\t\t\t{'<'}{name}\n\t\t\t{ typeof key === 'string' ? ` key=\"${key}\"`\n\t\t\t: typeof key === 'number' ? ` key=${key}`\n\t\t\t: typeof key === 'boolean' ? ` key=${key}`\n\t\t\t: typeof key === 'bigint' ? ` key=${key}`\n\t\t\t: typeof key === 'symbol' ? ` key=${String(key)}`\n\t\t\t: key === null ? ` key=${key}`\n\t\t\t: key !== undefined && ` key={${String(key)}}`\n\t\t}\n\t\t\t{hasChildren ? '>' : ' />'}\n\t\t\t{hasChildren && !opened && <span>\n\t\t\t\t<span\n\t\t\t\t\tonClick={() => keys[id] = true}\n\t\t\t\t\tstyle=\"cursor: pointer;\"\n\t\t\t\t>...</span>\n\t\t\t\t{'</'}{name}{'>'}\n\t\t\t</span>}\n\t\t\t{hasChildren && (labels as [string, string][])\n\t\t\t\t.filter(Boolean).map(([v, color]) => <span\n\t\t\t\t\tstyle={`color: ${color || '#000'}`}\n\t\t\t\t>\n\t\t\t\t\t{v}\n\t\t\t\t</span>)}\n\t\t</div>\n\t\t{hasChildren && opened && <div style=\"padding-left: 20px\">\n\t\t\t{children}\n\t\t</div>}\n\t\t{opened && hasChildren && <div>{'</'}{name}{'>'}</div>}\n\t</div>;\n}\nfunction *getList(\n\tlist: VTreeNode | VTreeNode[],\n\tkeys: {[key: number]: boolean},\n\toptions: Options,\n\tlabels: ([string, string] | undefined)[] = [],\n): Iterable<NeepNode> {\n\tif (Array.isArray(list)) {\n\t\tfor (const it of list) {\n\t\t\tyield* getList(it, keys, options, labels);\n\t\t}\n\t\treturn;\n\t}\n\tconst {\n\t\tid,\n\t\ttype,\n\t\ttag,\n\t\tchildren,\n\t\tprops,\n\t\tkey,\n\t\tlabel,\n\t\tvalue,\n\t\tvalueType,\n\t} = list;\n\tif (type === Type.standard || type === Type.native) {\n\t\treturn yield createTag(\n\t\t\t<span style=\"font-weight: bold;\">{tag}</span>,\n\t\t\tkeys, id, key, [label, ...labels],\n\t\t\t...getList(children, keys, options)\n\t\t);\n\t}\n\tif (type === Type.tag) {\n\t\tif (!options.tag) {\n\t\t\treturn yield* getList(children, keys, options, [label, ...labels]);\n\t\t}\n\t\treturn yield createTag(\n\t\t\ttag,\n\t\t\tkeys, id, key, [label, ...labels],\n\t\t\t...getList(children, keys, options)\n\t\t);\n\t}\n\tif (type === Type.simple) {\n\t\tif (!options.simple) {\n\t\t\treturn yield* getList(children, keys, options, [label, ...labels]);\n\t\t}\n\t\treturn yield createTag(\n\t\t\t<span style=\"\n\t\t\t\tfont-style: italic;\n\t\t\t\tfont-weight: bold;\n\t\t\t\">{tag}</span>,\n\t\t\tkeys, id, key, [label, ...labels],\n\t\t\t...getList(children, keys, options)\n\t\t);\n\t}\n\tif (type === Type.placeholder) {\n\t\tif (!options.placeholder) { return; }\n\t\treturn yield createTag(\n\t\t\t<span style=\"font-style: italic;\">placeholder</span>,\n\t\t\tkeys, id, key, [label, ...labels],\n\t\t\t...getList(children, keys, options)\n\t\t);\n\t}\n\tif (type === Type.container) {\n\t\tif (!options.container) {\n\t\t\treturn yield* getList(children, keys, options, [label, ...labels]);\n\t\t}\n\t\treturn yield createTag(\n\t\t\t<span style=\"font-style: italic;\">container</span>,\n\t\t\tkeys, id, key, [label, ...labels],\n\t\t\t...getList(children, keys, options)\n\t\t);\n\t}\n\tif (tag === Deliver) {\n\t\tif (!options.deliver) {\n\t\t\treturn yield* getList(children, keys, options, [label, ...labels]);\n\t\t}\n\t\treturn yield createTag(\n\t\t\t<span style=\"font-style: italic;\">Deliver</span>,\n\t\t\tkeys, id, key, [label, ...labels],\n\t\t\t...getList(children, keys, options)\n\t\t);\n\t}\n\tif (tag === Template) {\n\t\tif (!options.template) {\n\t\t\treturn yield* getList(children, keys, options, [label, ...labels]);\n\t\t}\n\t\treturn yield createTag(\n\t\t\t<span style=\"font-style: italic;\">Template</span>,\n\t\t\tkeys, id, key, [label, ...labels],\n\t\t\t...getList(children, keys, options)\n\t\t);\n\t}\n\tif (tag === ScopeSlot) {\n\t\tif (!options.scopeSlot) {\n\t\t\treturn yield* getList(children, keys, options, [label, ...labels]);\n\t\t}\n\t\treturn yield createTag(\n\t\t\t<span style=\"font-style: italic;\">ScopeSlot</span>,\n\t\t\tkeys, id, key, [label, ...labels],\n\t\t\t...getList(children, keys, options)\n\t\t);\n\t}\n\tif (tag === SlotRender) {\n\t\tif (options.slotRender) {\n\n\t\t}\n\t\treturn;\n\t}\n\tif (tag === Value) {\n\t\tif (!options.tag) { return; }\n\t\tif (!options.value) { return; }\n\t\treturn yield createText(valueType, value);\n\t}\n}\nexport default create((props: any, {}, { encase }) => {\n\tconst keys = encase<{[key: number]: boolean}>({});\n\treturn () => <div style=\"padding-left: 20px;\">\n\t\t{[...getList(props.tree, keys, getOptions(props))]}\n\t</div>;\n});\n","import { Neep } from '../install';\nimport { getTree } from '../tree';\nimport App from '../app';\nimport { Devtools } from '../type';\nimport { RootExposed } from '@neep/core';\n\nlet creating = false;\nfunction create() {\n\tcreating = true;\n\ttry {\n\t\treturn Neep.render();\n\t} finally {\n\t\tcreating = false;\n\t}\n}\n\nconst devtools: Devtools = {\n\trenderHook(container) {\n\t\tif (creating) { return; }\n\t\tlet app: RootExposed | undefined;\n\t\tconst getData = () => {\n\t\t\tif (!app) { app = create(); }\n\t\t\tconst tree = [...getTree(container.content)];\n\t\t\tapp.$update(Neep.createElement(App, {\n\t\t\t\ttree,\n\t\t\t\tvalue: true,\n\t\t\t\ttag: true,\n\t\t\t\t// simple: true,\n\t\t\t\t// container: true,\n\t\t\t\t// template: true,\n\t\t\t\t// scopeSlot: true,\n\t\t\t\t// slotRender: true,\n\t\t\t\t// deliver: true,\n\t\t\t}));\n\t\t};\n\t\tNeep.setHook('drawnAll', getData, container.entity);\n\t\tNeep.setHook('mounted', () => {\n\t\t\tif (!app) { app = create(); }\n\t\t\tgetData();\n\t\t\tapp.$mount();\n\t\t}, container.entity);\n\t},\n};\n\nexport default devtools;\n","import devtools from './devtools';\n\nexport let Neep: typeof import('@neep/core');\nexport default function install(neep: typeof import('@neep/core')) {\n\tneep.install({ devtools });\n\tNeep = neep;\n}\n","import * as Neep from '@neep/core';\nimport { install } from '.';\n\ninstall(Neep);\nexport * from '.';\n"],"names":["Type","getTree","tree","parent","Array","isArray","it","id","tag","props","children","key","component","label","exposed","$label","type","placeholder","name","nameSymbol","simple","isNative","typeSymbol","native","standard","content","nativeTree","Template","Deliver","ScopeSlot","SlotRender","special","Value","treeValue","value","valueType","node","String","RegExp","Date","toISOString","getOptions","container","template","scopeSlot","slotRender","deliver","createText","createElement","createTag","keys","labels","opened","hasChildren","Boolean","length","undefined","filter","map","v","color","getList","list","options","create","encase","creating","Neep","render","devtools","renderHook","app","getData","$update","App","setHook","entity","$mount","install","neep"],"mappings":"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"}