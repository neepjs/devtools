/*!
 * NeepWebRender v0.1.0-alpha.6
 * (c) 2019-2020 Fierflame
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@neep/core")):"function"==typeof define&&define.amd?define(["@neep/core"],t):(e=e||self).NeepWebRender=t(e.Neep)}(this,(function(e){"use strict";function t(e){const t=new Set;for(const n of function*e(t){if(Array.isArray(t))for(const n of t)yield*e(n);else yield t}(e))if(n)if("string"==typeof n)for(let e of n.split(" ").filter(Boolean))t.add(e);else if("object"==typeof n)for(const e in n){const o=n[e];for(let n of e.split(" ").filter(Boolean))t[o?"add":"delete"](n)}if(t.size)return t}function n(e,t=!1){return null==e?e:t&&"function"==typeof e?void 0:"boolean"==typeof e?e?"":null:"object"!=typeof e?String(e):e instanceof Date?e.toISOString():e instanceof RegExp?e.toString():JSON.stringify(e)}function o(e,t,n){for(const o of Object.keys(t)){const r=t[o];o in n&&n[o]===r||(null===r?e.removeAttribute(o):e.setAttribute(o,r))}for(const o of Object.keys(n))o in t||e.removeAttribute(o);!function(e,t){if(e instanceof HTMLInputElement&&"checked"in t)switch(e.type.toLowerCase()){case"checkbox":case"radio":null!==t.checked!==e.checked&&(e.checked=null!==t.checked)}if((e instanceof HTMLSelectElement||e instanceof HTMLInputElement)&&"value"in t){const n=t.value||"";e.value!==n&&(e.value=n)}}(e,t)}const r=new WeakMap;function s(e,s,c){const i=e.style,a=i instanceof CSSStyleDeclaration,f=r.get(e)||{attrs:{},event:{}},l="string"==typeof(u=c(s.id)?s.id():s.id)?u:"number"==typeof u?String(u):void 0;var u;l!==f.id&&("string"==typeof l?e.id=s.id:e.removeAttribute("id"));const p=t(c(s.class)?s.class():s.class);!function(e,t,n){if(t&&n){const o=e.getAttribute("class")||"",r=new Set(o.split(" ").filter(Boolean));n.forEach(e=>r.delete(e)),t.forEach(e=>r.add(e)),e.setAttribute("class",[...r].join(" "))}else t?e.setAttribute("class",[...t].join(" ")):n&&e.removeAttribute("class")}(e,p,f.classes);const m=a?function(e){if("string"==typeof e)return e;if(!e)return;if("object"!=typeof e)return;const t=Object.create(null);for(let n in e){let o=e[n];const r="--"===n.substr(0,2)?n:n.replace(/[A-Z]/g,"-$1").replace(/-+/g,"-").toLowerCase();if("number"==typeof o)t[r]=[0===o?"0":`${o}px`,null];else if(o&&"string"==typeof o){const e=o.replace(/\!important\s*$/,"");t[r]=[e,e===o?null:"important"]}}return t}(c(s.style)?s.style():s.style):void 0;a&&function(e,t,n){if(t)if("string"!=typeof t)if(n&&"string"!=typeof n){for(const o of Object.keys(t)){const r=t[o];n[o]&&n[o][0]===r[0]&&n[o][1]===r[1]||e.setProperty(o,...r)}for(const o of Object.keys(n))t[o]||e.removeProperty(o)}else{"string"==typeof n&&(e.cssText="");for(const n of Object.keys(t))e.setProperty(n,...t[n])}else t!==typeof n&&(e.cssText=t);else{if(!n)return;if("string"==typeof n)return void(e.cssText="");for(const t of Object.keys(n))e.removeProperty(t)}}(i,m,f.style);const d=function(e,t,o){const r=Object.create(null);for(const s in e){if(!/^[a-zA-Z0-9_-]/.test(s[0]))continue;const c=s.replace(/([A-Z])/g,"-$1").replace(/(\-)\-+/g,"$1").toLowerCase();switch(c){case"style":if(!t)break;case"ref":case"is":case"id":case"class":continue}let i=e[s];o(i)&&(i=i());const a=n(i,"on"===c.substr(0,2));void 0!==a&&(r[c]=a)}return r}(s,a,c);o(e,d,f.attrs);const y=function(e,t,n){const o=Object.create(null);function r(e,t){let n=o[e];n||(n=new Set,o[e]=n),n.add(t)}for(const t in e){const n=e[t];"function"==typeof n&&("@"!==t[0]&&"on"!==t.substr(0,2)||r(t.substr("@"===t[0]?1:2).toLowerCase(),n))}if(n){const[o,s,c]=n,i=e[o];t(i)&&r(s,e=>i(c(e)))}return o}(s,c,function(e){if(e instanceof HTMLInputElement){switch(e.type.toLowerCase()){case"checkbox":case"radio":return["checked","change",e=>e.currentTarget.checked]}return["value","input",e=>e.currentTarget.value]}if(e instanceof HTMLSelectElement)return["value","select",e=>e.currentTarget.value]}(e));return function(e,t,n){for(const o of Object.keys(t)){const r=t[o];if(o in n){const t=n[o];for(const n of r)t.has(n)||e.addEventListener(o,n);for(const n of t)r.has(n)||e.removeEventListener(o,n)}else for(const t of r)e.addEventListener(o,t)}for(const o of Object.keys(n))if(!(o in t))for(const t of n[o])e.removeEventListener(o,t)}(e,y,f.event),r.set(e,{id:l,classes:p,style:m,attrs:d,event:y}),e}let c;const i={svg:"http://www.w3.org/2000/svg",html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML"},a=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"]),f=new Set(["maction","math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msubsup","msup","mtable","mtd","mtext","mtr","munder","munderover","semantics"]);function l(e,t){const n=/^([a-z][a-z0-9-]*):([a-z0-9-]+)$/i.exec(e),o=n?n[2]:e,r=(t||(null==n?void 0:n[1])||a.has(o.toLowerCase())&&"svg"||f.has(o.toLowerCase())&&"mathml"||"").toLowerCase();return r?document.createElementNS(r in i&&i[r]||r,o):document.createElement(o)}const u={type:"web",nextFrame:function(e){c?c.push(e):(c=[e],window.requestAnimationFrame(()=>{const e=c;c=void 0,e&&e.forEach(e=>e())}))},isNode:e=>e instanceof Node,mount({target:e,class:t,style:n,tag:o},r,s){"string"==typeof o&&/^[a-z][a-z0-9]*(?:\-[a-z0-9]+)?(?:\:[a-z0-9]+(?:\-[a-z0-9]+)?)?$/i.test(o)||(o="div");const c=u.create(o,{class:t,style:n},r);return"string"==typeof e&&(e=document.querySelector(e)),e instanceof Element?(e.appendChild(c),s?[c,s.placeholder]:[c,c]):s!==u?(document.body.appendChild(c),[c,c]):[c,c]},unmount(e,t,n){e===t&&n||e.remove()},drawContainer(e,t,{target:n,class:o,style:r,tag:s},c,i){u.update(e,{class:o,style:r},c),"string"==typeof n&&(n=document.querySelector(n)),i===u||n instanceof Element||(n=document.body);const a=i===u&&e===t?void 0:u.parent(t);if(a===n)return[e,t];if(i!==u)return n.appendChild(e),[e,t];if(!a){const n=i.placeholder(),o=i.parent(t);return o&&(u.insert(o,n,t),u.remove(t)),[e,n]}if(!n){const n=i.parent(t);return n&&(u.insert(n,e,t),u.remove(t)),[e,e]}return n.appendChild(t),[e,t]},draw(){},create:(e,t,n)=>s(l(e),t,n),text:e=>document.createTextNode(e),placeholder:()=>document.createComment(""),component(){const e=l("neep-component");return[e,e.attachShadow({mode:"open"})]},parent:e=>e.parentNode,next:e=>e.nextSibling,update(e,t,n){s(e,t,n)},insert(e,t,n=null){e.insertBefore(t,n)},remove(e){const t=u.parent(e);t&&t.removeChild(e)}};return e.install({render:u}),u}));
//# sourceMappingURL=neep.web.render.min.js.map
